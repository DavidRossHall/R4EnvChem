<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 3 Importing Data Into R | R for Environmental Chemists</title>
  <meta name="description" content="This is a proof-of-concept for a further full length textbook." />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 3 Importing Data Into R | R for Environmental Chemists" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a proof-of-concept for a further full length textbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 3 Importing Data Into R | R for Environmental Chemists" />
  
  <meta name="twitter:description" content="This is a proof-of-concept for a further full length textbook." />
  

<meta name="author" content="David Hall, Steven Kutarna, and Jessica D’eon" />


<meta name="date" content="2021-04-06" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="software.html"/>
<link rel="next" href="exploring-spectroscopy-data.html"/>
<script src="libs/header-attrs-2.6/header-attrs.js"></script>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<script src="libs/plotly-binding-4.9.2.1/plotly.js"></script>
<script src="libs/typedarray-0.1/typedarray.min.js"></script>
<link href="libs/crosstalk-1.1.0.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.0.1/js/crosstalk.min.js"></script>
<link href="libs/plotly-htmlwidgets-css-1.52.2/plotly-htmlwidgets.css" rel="stylesheet" />
<script src="libs/plotly-main-1.52.2/plotly-latest.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>R4EnvChem</a></li>
<li class="chapter" data-level="1" data-path="getting-started.html"><a href="getting-started.html"><i class="fa fa-check"></i><b>1</b> Getting Started</a>
<ul>
<li class="chapter" data-level="1.1" data-path="getting-started.html"><a href="getting-started.html#installing-r-and-rstudio"><i class="fa fa-check"></i><b>1.1</b> Installing R and RStudio</a></li>
<li class="chapter" data-level="1.2" data-path="getting-started.html"><a href="getting-started.html#creating-an-rstudio-project"><i class="fa fa-check"></i><b>1.2</b> Creating an RStudio Project</a></li>
<li class="chapter" data-level="1.3" data-path="getting-started.html"><a href="getting-started.html#navigating-rstudio"><i class="fa fa-check"></i><b>1.3</b> Navigating RStudio</a>
<ul>
<li class="chapter" data-level="1.3.1" data-path="getting-started.html"><a href="getting-started.html#r-environment"><i class="fa fa-check"></i><b>1.3.1</b> R Environment</a></li>
<li class="chapter" data-level="1.3.2" data-path="getting-started.html"><a href="getting-started.html#viewer"><i class="fa fa-check"></i><b>1.3.2</b> Viewer</a></li>
<li class="chapter" data-level="1.3.3" data-path="getting-started.html"><a href="getting-started.html#console"><i class="fa fa-check"></i><b>1.3.3</b> Console</a></li>
<li class="chapter" data-level="1.3.4" data-path="getting-started.html"><a href="getting-started.html#scripts"><i class="fa fa-check"></i><b>1.3.4</b> Scripts</a></li>
</ul></li>
<li class="chapter" data-level="1.4" data-path="getting-started.html"><a href="getting-started.html#dark-mode"><i class="fa fa-check"></i><b>1.4</b> Dark Mode</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="software.html"><a href="software.html"><i class="fa fa-check"></i><b>2</b> Software</a>
<ul>
<li class="chapter" data-level="2.1" data-path="software.html"><a href="software.html#microsoft-excel"><i class="fa fa-check"></i><b>2.1</b> Microsoft Excel</a></li>
<li class="chapter" data-level="2.2" data-path="software.html"><a href="software.html#r"><i class="fa fa-check"></i><b>2.2</b> R</a>
<ul>
<li class="chapter" data-level="2.2.1" data-path="software.html"><a href="software.html#r-markdown"><i class="fa fa-check"></i><b>2.2.1</b> R Markdown</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html"><i class="fa fa-check"></i><b>3</b> Importing Data Into R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#long-vs.-wide"><i class="fa fa-check"></i><b>3.1</b> Long vs. Wide</a></li>
<li class="chapter" data-level="3.2" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#converting-data-to-long-format-in-excel"><i class="fa fa-check"></i><b>3.2</b> Converting Data to Long Format in Excel</a></li>
<li class="chapter" data-level="3.3" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#converting-data-to-long-format-in-r"><i class="fa fa-check"></i><b>3.3</b> Converting Data to Long Format in R</a></li>
</ul></li>
<li class="chapter" data-level="4" data-path="exploring-spectroscopy-data.html"><a href="exploring-spectroscopy-data.html"><i class="fa fa-check"></i><b>4</b> Exploring Spectroscopy Data</a>
<ul>
<li class="chapter" data-level="4.1" data-path="exploring-spectroscopy-data.html"><a href="exploring-spectroscopy-data.html#setting-up-data-for-efficient-plotting"><i class="fa fa-check"></i><b>4.1</b> Setting up data for efficient plotting</a></li>
<li class="chapter" data-level="4.2" data-path="exploring-spectroscopy-data.html"><a href="exploring-spectroscopy-data.html#plotting-data"><i class="fa fa-check"></i><b>4.2</b> Plotting data</a></li>
<li class="chapter" data-level="4.3" data-path="exploring-spectroscopy-data.html"><a href="exploring-spectroscopy-data.html#creating-interactive-plots"><i class="fa fa-check"></i><b>4.3</b> Creating interactive plots</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="exploring-spectroscopy-data.html"><a href="exploring-spectroscopy-data.html#some-notes-about-working-with-plotly"><i class="fa fa-check"></i><b>4.3.1</b> Some notes about working with Plotly</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="calibration-curves-with-qqq-data.html"><a href="calibration-curves-with-qqq-data.html"><i class="fa fa-check"></i><b>5</b> Calibration Curves with QQQ Data</a>
<ul>
<li class="chapter" data-level="5.1" data-path="calibration-curves-with-qqq-data.html"><a href="calibration-curves-with-qqq-data.html#importing-and-tidying-data"><i class="fa fa-check"></i><b>5.1</b> Importing and tidying data</a></li>
<li class="chapter" data-level="5.2" data-path="calibration-curves-with-qqq-data.html"><a href="calibration-curves-with-qqq-data.html#normalizing-qqq-data"><i class="fa fa-check"></i><b>5.2</b> Normalizing QQQ Data</a>
<ul>
<li class="chapter" data-level="5.2.1" data-path="calibration-curves-with-qqq-data.html"><a href="calibration-curves-with-qqq-data.html#assessing-internal-stds"><i class="fa fa-check"></i><b>5.2.1</b> Assessing Internal Stds</a></li>
<li class="chapter" data-level="5.2.2" data-path="calibration-curves-with-qqq-data.html"><a href="calibration-curves-with-qqq-data.html#normalizing-peak-areas"><i class="fa fa-check"></i><b>5.2.2</b> Normalizing peak areas</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="calibration-curves-with-qqq-data.html"><a href="calibration-curves-with-qqq-data.html#calculating-calibration-curves"><i class="fa fa-check"></i><b>5.3</b> Calculating Calibration Curves</a>
<ul>
<li class="chapter" data-level="5.3.1" data-path="calibration-curves-with-qqq-data.html"><a href="calibration-curves-with-qqq-data.html#plotting-regression-curves"><i class="fa fa-check"></i><b>5.3.1</b> Plotting regression curves</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="calibration-curves-with-qqq-data.html"><a href="calibration-curves-with-qqq-data.html#quantifying-sample-concentrations"><i class="fa fa-check"></i><b>5.4</b> Quantifying sample concentrations</a></li>
</ul></li>
<li class="chapter" data-level="6" data-path="logistic-regression-modelling.html"><a href="logistic-regression-modelling.html"><i class="fa fa-check"></i><b>6</b> Logistic Regression Modelling</a>
<ul>
<li class="chapter" data-level="6.1" data-path="logistic-regression-modelling.html"><a href="logistic-regression-modelling.html#visually-inspecting-our-data"><i class="fa fa-check"></i><b>6.1</b> Visually inspecting our data</a>
<ul>
<li class="chapter" data-level="6.1.1" data-path="logistic-regression-modelling.html"><a href="logistic-regression-modelling.html#annotating-maximal-values"><i class="fa fa-check"></i><b>6.1.1</b> Annotating maximal values</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="logistic-regression-modelling.html"><a href="logistic-regression-modelling.html#extracting-maximal-values"><i class="fa fa-check"></i><b>6.2</b> Extracting maximal values</a></li>
<li class="chapter" data-level="6.3" data-path="logistic-regression-modelling.html"><a href="logistic-regression-modelling.html#modelling-sigmoidal-curve"><i class="fa fa-check"></i><b>6.3</b> Modelling Sigmoidal Curve</a>
<ul>
<li class="chapter" data-level="6.3.1" data-path="logistic-regression-modelling.html"><a href="logistic-regression-modelling.html#calculating-logistic-regression"><i class="fa fa-check"></i><b>6.3.1</b> Calculating Logistic Regression</a></li>
<li class="chapter" data-level="6.3.2" data-path="logistic-regression-modelling.html"><a href="logistic-regression-modelling.html#extracting-model-parameters"><i class="fa fa-check"></i><b>6.3.2</b> Extracting model parameters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="correlation-heatmaps.html"><a href="correlation-heatmaps.html"><i class="fa fa-check"></i><b>7</b> Correlation Heatmaps</a>
<ul>
<li class="chapter" data-level="7.1" data-path="correlation-heatmaps.html"><a href="correlation-heatmaps.html#correlation-scores"><i class="fa fa-check"></i><b>7.1</b> Correlation Scores</a></li>
<li class="chapter" data-level="7.2" data-path="correlation-heatmaps.html"><a href="correlation-heatmaps.html#heatmap"><i class="fa fa-check"></i><b>7.2</b> Heatmap</a></li>
<li class="chapter" data-level="7.3" data-path="correlation-heatmaps.html"><a href="correlation-heatmaps.html#heatmap-with-dendrogram"><i class="fa fa-check"></i><b>7.3</b> Heatmap with Dendrogram</a></li>
<li class="chapter" data-level="7.4" data-path="correlation-heatmaps.html"><a href="correlation-heatmaps.html#heatmap-but-pretty"><i class="fa fa-check"></i><b>7.4</b> Heatmap, But Pretty</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>8</b> Appendix</a>
<ul>
<li class="chapter" data-level="8.1" data-path="appendix.html"><a href="appendix.html#first-off-what-is-r-markdown"><i class="fa fa-check"></i><b>8.1</b> First off, what is R Markdown?</a></li>
<li class="chapter" data-level="8.2" data-path="appendix.html"><a href="appendix.html#how-do-i-get-started-with-r-markdown"><i class="fa fa-check"></i><b>8.2</b> How do I get started with R markdown?</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="appendix.html"><a href="appendix.html#great-now-whats-going-on-with-this-r-markdown-document"><i class="fa fa-check"></i><b>8.2.1</b> Great, now what’s going on with this R markdown document?</a></li>
<li class="chapter" data-level="8.2.2" data-path="appendix.html"><a href="appendix.html#how-to-run-r-code-in-r-markdown"><i class="fa fa-check"></i><b>8.2.2</b> How to run R code in R Markdown</a></li>
<li class="chapter" data-level="8.2.3" data-path="appendix.html"><a href="appendix.html#how-do-i-go-from-r-markdown-to-something-i-can-hand-in"><i class="fa fa-check"></i><b>8.2.3</b> How do I go from R markdown to something I can hand-in</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="appendix.html"><a href="appendix.html#so-now-what-do-i-do-with-r-markdown"><i class="fa fa-check"></i><b>8.3</b> So now what do I do with R Markdown?</a>
<ul>
<li class="chapter" data-level="8.3.1" data-path="appendix.html"><a href="appendix.html#r-markdown-resources-and-further-reading"><i class="fa fa-check"></i><b>8.3.1</b> R Markdown resources and further reading</a></li>
<li class="chapter" data-level="8.3.2" data-path="appendix.html"><a href="appendix.html#r-code-chunk-options"><i class="fa fa-check"></i><b>8.3.2</b> R code chunk options</a></li>
<li class="chapter" data-level="8.3.3" data-path="appendix.html"><a href="appendix.html#inserting-images-into-markdown-documents"><i class="fa fa-check"></i><b>8.3.3</b> Inserting images into markdown documents</a></li>
<li class="chapter" data-level="8.3.4" data-path="appendix.html"><a href="appendix.html#generating-tables"><i class="fa fa-check"></i><b>8.3.4</b> Generating Tables</a></li>
<li class="chapter" data-level="8.3.5" data-path="appendix.html"><a href="appendix.html#spellcheck-in-r-markdown"><i class="fa fa-check"></i><b>8.3.5</b> Spellcheck in R Markdown</a></li>
<li class="chapter" data-level="8.3.6" data-path="appendix.html"><a href="appendix.html#quick-reference-on-r-markdown-syntax"><i class="fa fa-check"></i><b>8.3.6</b> Quick reference on R markdown syntax</a></li>
</ul></li>
</ul></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Environmental Chemists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="importing-data-into-r" class="section level1" number="3">
<h1><span class="header-section-number">Chapter 3</span> Importing Data Into R</h1>
<p>In this chapter we’ll talk about how to organize your data in advance so that when you import it into R, you can go straight to making plots without having to run any additional code.</p>
<div id="long-vs.-wide" class="section level2" number="3.1">
<h2><span class="header-section-number">3.1</span> Long vs. Wide</h2>
<p>As humans, we tend to prefer organizing data in “wide” format, meaning one column for each sample. This makes it easier to see everything in one place, but can make plotting tedious in both Excel and R.</p>
<p><img src="images/CPdata_wide.png" /></p>
<p>What we need to do is convert our data into a format where all the numerical values are in one column, and all the sample names are in another column.</p>
</div>
<div id="converting-data-to-long-format-in-excel" class="section level2" number="3.2">
<h2><span class="header-section-number">3.2</span> Converting Data to Long Format in Excel</h2>
<ol style="list-style-type: decimal">
<li><p>Insert a new column before your first data column (Click column letter, right-click within highlighted area, then click "Insert)
<img src="images/CPdata_widetolong_1.png" /></p></li>
<li><p>Add a title to this new column in the top cell (e.g. Samples)
<img src="images/CPdata_widetolong_2.png" /></p></li>
<li><p>Copy or drag the column header from your first data column into the second row of the column you just created. (i.e. Left 1 cell, down 1 cell)
<img src="images/CPdata_widetolong_3.png" /></p></li>
<li><p>Duplicate that cell until it fills the whole column (to the same number of rows as the rest of your data). The fastest way to do this is to hover the mouse over the bottom-right corner of the cell until the mouse turns into a small black crosshair icon. Double-click here and Excel should automatically fill the column with copies of that cell to the same number of rows as the adjacent columns. If this method does not work for you, you will instead have to copy and paste manually using Ctrl+C and Ctrl+V (or Cmd+C and Cmd+V if you’re using a Mac).
<img src="images/CPdata_widetolong_4.png" /></p></li>
<li><p>Going back to the data column where you took the first sample label from, give it a new title (e.g. Values, Areas, Concentrations, etc.).
<img src="images/CPdata_widetolong_5.png" /></p></li>
<li><p>Now we start making the columns longer. For all the columns to the left of your “Samples” column, copy and paste the values (but NOT the header) below themselves in the same column, essentially duplicating the content of each of these columns.
<img src="images/CPdata_widetolong_6.png" /></p></li>
<li><p>Cut/drag the next sample header from the top row down to the first open cell of your “Samples” column.
<img src="images/CPdata_widetolong_7.png" /></p></li>
<li><p>Duplicate the cell with this sample title for the same number of rows as there are in the column(s) to the left of your “Samples” column, as before.
<img src="images/CPdata_widetolong_8.png" /></p></li>
<li><p>Cut and past the data from the corresponding column above into your “Values” column, below the previous data.
<img src="images/CPdata_widetolong_9.png" /></p></li>
<li><p>Repeat Steps 6 through 9 until all of your data (and corresponding headers) have been transferred to your “Samples” and “Values” columns. Delete any data left behind in all columns to the right of these two.
<img src="images/CPdata_widetolong_10.png" /></p></li>
<li><p>Make sure to save your file as a CSV, then copy and run the following code to import your long-formatted data into R.</p></li>
</ol>
<div class="sourceCode" id="cb5"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb5-1"><a href="importing-data-into-r.html#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb5-2"><a href="importing-data-into-r.html#cb5-2" aria-hidden="true" tabindex="-1"></a>samples<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">&quot;your_file_name_here.csv&quot;</span>)</span></code></pre></div>
<pre><code>## # A tibble: 242 x 3
##    Congener   Samples           Values
##    &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt;
##  1 C10H12Cl10 Sludge1_undiluted      0
##  2 C10H13Cl9  Sludge1_undiluted      0
##  3 C10H14Cl8  Sludge1_undiluted      0
##  4 C10H15Cl7  Sludge1_undiluted      0
##  5 C10H16Cl6  Sludge1_undiluted      0
##  6 C10H17Cl5  Sludge1_undiluted      0
##  7 C11H13Cl11 Sludge1_undiluted      0
##  8 C11H14Cl10 Sludge1_undiluted      0
##  9 C11H15Cl9  Sludge1_undiluted      0
## 10 C11H16Cl8  Sludge1_undiluted      0
## # ... with 232 more rows</code></pre>
</div>
<div id="converting-data-to-long-format-in-r" class="section level2" number="3.3">
<h2><span class="header-section-number">3.3</span> Converting Data to Long Format in R</h2>
<ol style="list-style-type: decimal">
<li>Make sure your data file is saved as a CSV, then copy and run the following code to import the data into R.</li>
</ol>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="importing-data-into-r.html#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb7-2"><a href="importing-data-into-r.html#cb7-2" aria-hidden="true" tabindex="-1"></a>samples<span class="ot">&lt;-</span><span class="fu">read_csv</span>(<span class="st">&quot;your_file_name_here.csv&quot;</span>)</span></code></pre></div>
<p>I’ll use the same data file as above to illustrate. This is what the data will look like right after running the above code:</p>
<pre><code>## # A tibble: 121 x 26
##    Congener Sludge1_undilut~ Sludge2_undilut~ Sludge3_undilut~ Sludge4_undilut~
##    &lt;chr&gt;               &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;            &lt;dbl&gt;
##  1 C10H12C~                0             0                   0             0   
##  2 C10H13C~                0             0                   0             0   
##  3 C10H14C~                0             0                   0             0   
##  4 C10H15C~                0             0                   0             0   
##  5 C10H16C~                0             0                   0             0   
##  6 C10H17C~                0             0                   0             0   
##  7 C11H13C~                0             0                   0             0   
##  8 C11H14C~                0             0                   0             0   
##  9 C11H15C~                0             0                   0             0   
## 10 C11H16C~                0             8.99                0             2.26
## # ... with 111 more rows, and 21 more variables: Sludge5_undiluted &lt;dbl&gt;,
## #   Sludge6_undiluted &lt;dbl&gt;, Sludge7_undiluted &lt;dbl&gt;, Sludge8_undiluted &lt;dbl&gt;,
## #   Sludge9_undiluted &lt;dbl&gt;, Sludge10_undiluted &lt;dbl&gt;,
## #   Sludge11_undiluted &lt;dbl&gt;, Sludge12_undiluted &lt;dbl&gt;,
## #   Sludge13_undiluted &lt;dbl&gt;, Sludge14_undiluted &lt;dbl&gt;,
## #   Sludge15_undiluted &lt;dbl&gt;, Sludge16_undiluted &lt;dbl&gt;,
## #   Sludge17_undiluted &lt;dbl&gt;, Sludge18_undiluted &lt;dbl&gt;,
## #   Sludge19_undiluted &lt;dbl&gt;, Sludge20_undiluted &lt;dbl&gt;,
## #   Sludge21_undiluted &lt;dbl&gt;, Sludge22_undiluted &lt;dbl&gt;,
## #   Sludge23_undiluted &lt;dbl&gt;, Sludge24_undiluted &lt;dbl&gt;,
## #   Sludge25_undiluted &lt;dbl&gt;</code></pre>
<ol start="2" style="list-style-type: decimal">
<li>Now we’re going to use something called a “pivot” to convert our data from wide to long format. The “pivot_long” function we’ll be using has 3 key parameters: cols, names_to, and values_to.</li>
</ol>
<div class="sourceCode" id="cb9"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb9-1"><a href="importing-data-into-r.html#cb9-1" aria-hidden="true" tabindex="-1"></a>samples_long<span class="ot">&lt;-</span>samples <span class="sc">%&gt;%</span></span>
<span id="cb9-2"><a href="importing-data-into-r.html#cb9-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">pivot_longer</span>(<span class="at">cols =</span> <span class="sc">!</span><span class="st">&quot;Congener&quot;</span>, <span class="at">names_to =</span> <span class="st">&quot;Sample&quot;</span>, <span class="at">values_to =</span> <span class="st">&quot;Values&quot;</span>)</span></code></pre></div>
<ul>
<li><em>cols</em> tells the function which columns to pivot. Here I’ve used an exclamation mark to instead tell it to ignore the “Congener” column (i.e. pivot all columns EXCEPT for “Congener”)</li>
<li><em>names_to</em> is the name we wish to give to the column which will contain all the sample names which used to be headers</li>
<li><em>values_to</em> is the name which will be assigned to the column which will contain all the data values</li>
</ul>
<p>And this is the resulting long-form data:</p>
<pre><code>## # A tibble: 3,025 x 3
##    Congener   Sample            Values
##    &lt;chr&gt;      &lt;chr&gt;              &lt;dbl&gt;
##  1 C10H12Cl10 Sludge1_undiluted    0  
##  2 C10H13Cl9  Sludge1_undiluted    0  
##  3 C10H14Cl8  Sludge1_undiluted    0  
##  4 C10H15Cl7  Sludge1_undiluted    0  
##  5 C10H16Cl6  Sludge1_undiluted    0  
##  6 C10H17Cl5  Sludge1_undiluted    0  
##  7 C11H13Cl11 Sludge1_undiluted    0  
##  8 C11H14Cl10 Sludge1_undiluted    0  
##  9 C11H15Cl9  Sludge1_undiluted    0  
## 10 C11H16Cl8  Sludge1_undiluted    0  
## 11 C11H17Cl7  Sludge1_undiluted    0  
## 12 C11H18Cl6  Sludge1_undiluted    0  
## 13 C11H19Cl5  Sludge1_undiluted    0  
## 14 C12H14Cl12 Sludge1_undiluted    0  
## 15 C12H15Cl11 Sludge1_undiluted    0  
## 16 C12H16Cl10 Sludge1_undiluted    0  
## 17 C12H17Cl9  Sludge1_undiluted    0  
## 18 C12H18Cl8  Sludge1_undiluted    0  
## 19 C12H19Cl7  Sludge1_undiluted    0  
## 20 C12H20Cl6  Sludge1_undiluted    0  
## 21 C12H21Cl5  Sludge1_undiluted    0  
## 22 C13H15Cl13 Sludge1_undiluted    0  
## 23 C13H16Cl12 Sludge1_undiluted    0  
## 24 C13H17Cl11 Sludge1_undiluted    0  
## 25 C13H18Cl10 Sludge1_undiluted    0  
## 26 C13H19Cl9  Sludge1_undiluted    0  
## 27 C13H20Cl8  Sludge1_undiluted    0  
## 28 C13H21Cl7  Sludge1_undiluted   18.9
## 29 C13H22Cl6  Sludge1_undiluted    0  
## 30 C13H23Cl5  Sludge1_undiluted    0  
## # ... with 2,995 more rows</code></pre>
<p>Not bad for only 2 steps, huh?</p>

</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="software.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="exploring-spectroscopy-data.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": null,
"text": null
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": null,
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
