<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>Chapter 4 Using R Markdown | R for Environmental Chemists</title>
  <meta name="description" content="This is a proof-of-concept for a further full length textbook." />
  <meta name="generator" content="bookdown 0.22 and GitBook 2.6.7" />

  <meta property="og:title" content="Chapter 4 Using R Markdown | R for Environmental Chemists" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://davidrosshall.github.io/R4EnvChem/" />
  
  <meta property="og:description" content="This is a proof-of-concept for a further full length textbook." />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Chapter 4 Using R Markdown | R for Environmental Chemists" />
  
  <meta name="twitter:description" content="This is a proof-of-concept for a further full length textbook." />
  

<meta name="author" content="David Hall, Steven Kutarna, Kristen Yeh, Hui Peng and Jessica D’eon" />



  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="working-with-r.html"/>
<link rel="next" href="r-tutorial-exercise.html"/>
<script src="libs/header-attrs-2.8/header-attrs.js"></script>
<script src="libs/jquery-3.5.1/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>
<script src="libs/htmlwidgets-1.5.3/htmlwidgets.js"></script>
<link href="libs/datatables-css-0.0.0/datatables-crosstalk.css" rel="stylesheet" />
<script src="libs/datatables-binding-0.18/datatables.js"></script>
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.min.css" rel="stylesheet" />
<link href="libs/dt-core-1.10.20/css/jquery.dataTables.extra.css" rel="stylesheet" />
<script src="libs/dt-core-1.10.20/js/jquery.dataTables.min.js"></script>
<link href="libs/crosstalk-1.1.1/css/crosstalk.css" rel="stylesheet" />
<script src="libs/crosstalk-1.1.1/js/crosstalk.min.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<style type="text/css">
/* Used with Pandoc 2.11+ new --citeproc when CSL is used */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}
</style>

</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><strong><a href="./">R for Environmental Chemistry</a></strong></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Preface</a>
<ul>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html#authors"><i class="fa fa-check"></i>Authors</a></li>
</ul></li>
<li class="part"><span><b>Section 1: Getting Setup in R</b></span></li>
<li class="chapter" data-level="1" data-path="installing-r.html"><a href="installing-r.html"><i class="fa fa-check"></i><b>1</b> Installing R</a>
<ul>
<li class="chapter" data-level="1.1" data-path="installing-r.html"><a href="installing-r.html#prerequisite-software"><i class="fa fa-check"></i><b>1.1</b> Prerequisite software</a>
<ul>
<li class="chapter" data-level="1.1.1" data-path="installing-r.html"><a href="installing-r.html#r"><i class="fa fa-check"></i><b>1.1.1</b> R</a></li>
<li class="chapter" data-level="1.1.2" data-path="installing-r.html"><a href="installing-r.html#downloading-rstudio-ide"><i class="fa fa-check"></i><b>1.1.2</b> Downloading RStudio IDE</a></li>
<li class="chapter" data-level="1.1.3" data-path="installing-r.html"><a href="installing-r.html#installing-packages"><i class="fa fa-check"></i><b>1.1.3</b> Installing packages</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="installing-r.html"><a href="installing-r.html#running-r-code"><i class="fa fa-check"></i><b>1.2</b> Running R Code</a></li>
<li class="chapter" data-level="1.3" data-path="installing-r.html"><a href="installing-r.html#customizing-rstudio"><i class="fa fa-check"></i><b>1.3</b> Customizing RStudio</a></li>
<li class="chapter" data-level="1.4" data-path="installing-r.html"><a href="installing-r.html#where-to-get-help"><i class="fa fa-check"></i><b>1.4</b> Where to get help</a></li>
</ul></li>
<li class="chapter" data-level="2" data-path="r-coding-basics.html"><a href="r-coding-basics.html"><i class="fa fa-check"></i><b>2</b> R coding basics</a>
<ul>
<li class="chapter" data-level="2.1" data-path="r-coding-basics.html"><a href="r-coding-basics.html#variables"><i class="fa fa-check"></i><b>2.1</b> Variables</a></li>
<li class="chapter" data-level="2.2" data-path="r-coding-basics.html"><a href="r-coding-basics.html#data-types"><i class="fa fa-check"></i><b>2.2</b> Data Types</a></li>
<li class="chapter" data-level="2.3" data-path="r-coding-basics.html"><a href="r-coding-basics.html#data-structures"><i class="fa fa-check"></i><b>2.3</b> Data Structures</a>
<ul>
<li class="chapter" data-level="2.3.1" data-path="r-coding-basics.html"><a href="r-coding-basics.html#other-data-structures"><i class="fa fa-check"></i><b>2.3.1</b> Other data structures</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="r-coding-basics.html"><a href="r-coding-basics.html#r-packages-and-functions"><i class="fa fa-check"></i><b>2.4</b> R packages and functions</a>
<ul>
<li class="chapter" data-level="2.4.1" data-path="r-coding-basics.html"><a href="r-coding-basics.html#ggplot2"><i class="fa fa-check"></i><b>2.4.1</b> ggplot2</a></li>
<li class="chapter" data-level="2.4.2" data-path="r-coding-basics.html"><a href="r-coding-basics.html#function-documentation"><i class="fa fa-check"></i><b>2.4.2</b> Function Documentation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="working-with-r.html"><a href="working-with-r.html"><i class="fa fa-check"></i><b>3</b> Working with R</a>
<ul>
<li class="chapter" data-level="3.1" data-path="working-with-r.html"><a href="working-with-r.html#paths-and-directories"><i class="fa fa-check"></i><b>3.1</b> Paths and directories</a></li>
<li class="chapter" data-level="3.2" data-path="working-with-r.html"><a href="working-with-r.html#creating-an-rstudio-project"><i class="fa fa-check"></i><b>3.2</b> Creating an RStudio project</a>
<ul>
<li class="chapter" data-level="3.2.1" data-path="working-with-r.html"><a href="working-with-r.html#the-value-of-r-projects"><i class="fa fa-check"></i><b>3.2.1</b> The value of R projects</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="working-with-r.html"><a href="working-with-r.html#workspace-and-whats-real"><i class="fa fa-check"></i><b>3.3</b> Workspace and what’s real</a></li>
<li class="chapter" data-level="3.4" data-path="working-with-r.html"><a href="working-with-r.html#saving-r-scripts"><i class="fa fa-check"></i><b>3.4</b> Saving R scripts</a>
<ul>
<li class="chapter" data-level="3.4.1" data-path="working-with-r.html"><a href="working-with-r.html#what-should-i-save"><i class="fa fa-check"></i><b>3.4.1</b> What should I save?</a></li>
<li class="chapter" data-level="3.4.2" data-path="working-with-r.html"><a href="working-with-r.html#saving-objects"><i class="fa fa-check"></i><b>3.4.2</b> Saving objects</a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="working-with-r.html"><a href="working-with-r.html#script-formatting"><i class="fa fa-check"></i><b>3.5</b> Script formatting</a></li>
<li class="chapter" data-level="3.6" data-path="working-with-r.html"><a href="working-with-r.html#viewing-data-and-code-simultaneously"><i class="fa fa-check"></i><b>3.6</b> Viewing data and code simultaneously</a></li>
<li class="chapter" data-level="3.7" data-path="working-with-r.html"><a href="working-with-r.html#troubleshooting-error-messages"><i class="fa fa-check"></i><b>3.7</b> Troubleshooting error messages</a>
<ul>
<li class="chapter" data-level="3.7.1" data-path="working-with-r.html"><a href="working-with-r.html#script-diagnostics"><i class="fa fa-check"></i><b>3.7.1</b> Script diagnostics</a></li>
<li class="chapter" data-level="3.7.2" data-path="working-with-r.html"><a href="working-with-r.html#reading-error-codes"><i class="fa fa-check"></i><b>3.7.2</b> Reading error codes</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="using-r-markdown.html"><a href="using-r-markdown.html"><i class="fa fa-check"></i><b>4</b> Using R Markdown</a>
<ul>
<li class="chapter" data-level="4.1" data-path="using-r-markdown.html"><a href="using-r-markdown.html#deeper-look-into-rmarkdown"><i class="fa fa-check"></i><b>4.1</b> Deeper look into rmarkdown</a></li>
<li class="chapter" data-level="4.2" data-path="using-r-markdown.html"><a href="using-r-markdown.html#getting-started-with-rmarkdown"><i class="fa fa-check"></i><b>4.2</b> Getting started with rmarkdown</a>
<ul>
<li class="chapter" data-level="4.2.1" data-path="using-r-markdown.html"><a href="using-r-markdown.html#understanding-rmarkdown"><i class="fa fa-check"></i><b>4.2.1</b> Understanding rmarkdown</a></li>
<li class="chapter" data-level="4.2.2" data-path="using-r-markdown.html"><a href="using-r-markdown.html#runnign-code-in-rmarkdown"><i class="fa fa-check"></i><b>4.2.2</b> Runnign code in rmarkdown</a></li>
<li class="chapter" data-level="4.2.3" data-path="using-r-markdown.html"><a href="using-r-markdown.html#generating-final-report"><i class="fa fa-check"></i><b>4.2.3</b> Generating final report</a></li>
</ul></li>
<li class="chapter" data-level="4.3" data-path="using-r-markdown.html"><a href="using-r-markdown.html#so-now-what-do-i-do-with-r-markdown"><i class="fa fa-check"></i><b>4.3</b> So now what do I do with R Markdown?</a>
<ul>
<li class="chapter" data-level="4.3.1" data-path="using-r-markdown.html"><a href="using-r-markdown.html#r-markdown-resources-and-further-reading"><i class="fa fa-check"></i><b>4.3.1</b> R Markdown resources and further reading</a></li>
<li class="chapter" data-level="4.3.2" data-path="using-r-markdown.html"><a href="using-r-markdown.html#r-code-chunk-options"><i class="fa fa-check"></i><b>4.3.2</b> R code chunk options</a></li>
<li class="chapter" data-level="4.3.3" data-path="using-r-markdown.html"><a href="using-r-markdown.html#inserting-images"><i class="fa fa-check"></i><b>4.3.3</b> Inserting images</a></li>
<li class="chapter" data-level="4.3.4" data-path="using-r-markdown.html"><a href="using-r-markdown.html#generating-tables"><i class="fa fa-check"></i><b>4.3.4</b> Generating Tables</a></li>
<li class="chapter" data-level="4.3.5" data-path="using-r-markdown.html"><a href="using-r-markdown.html#spellcheck-in-r-markdown"><i class="fa fa-check"></i><b>4.3.5</b> Spellcheck in R Markdown</a></li>
<li class="chapter" data-level="4.3.6" data-path="using-r-markdown.html"><a href="using-r-markdown.html#r-markdown-syntax"><i class="fa fa-check"></i><b>4.3.6</b> R markdown syntax</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="r-tutorial-exercise.html"><a href="r-tutorial-exercise.html"><i class="fa fa-check"></i><b>5</b> R Tutorial Exercise</a>
<ul>
<li class="chapter" data-level="5.1" data-path="r-tutorial-exercise.html"><a href="r-tutorial-exercise.html#expected-outcome"><i class="fa fa-check"></i><b>5.1</b> Expected outcome</a></li>
</ul></li>
<li class="part"><span><b>Section 2: Data Analysis in R</b></span></li>
<li class="chapter" data-level="6" data-path="intro-to-data-analysis.html"><a href="intro-to-data-analysis.html"><i class="fa fa-check"></i><b>6</b> Intro to Data Analysis</a>
<ul>
<li class="chapter" data-level="6.1" data-path="intro-to-data-analysis.html"><a href="intro-to-data-analysis.html#further-reading"><i class="fa fa-check"></i><b>6.1</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="7" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html"><i class="fa fa-check"></i><b>7</b> Importing data into R</a>
<ul>
<li class="chapter" data-level="7.1" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#how-data-is-stored"><i class="fa fa-check"></i><b>7.1</b> How data is stored</a></li>
<li class="chapter" data-level="7.2" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#read_csv"><i class="fa fa-check"></i><b>7.2</b> read_csv</a>
<ul>
<li class="chapter" data-level="7.2.1" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#tibbles-vs.-data-frames"><i class="fa fa-check"></i><b>7.2.1</b> Tibbles vs. data frames</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#importing-other-data-types"><i class="fa fa-check"></i><b>7.3</b> Importing other data types</a></li>
<li class="chapter" data-level="7.4" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#saving-data"><i class="fa fa-check"></i><b>7.4</b> Saving data</a></li>
<li class="chapter" data-level="7.5" data-path="importing-data-into-r.html"><a href="importing-data-into-r.html#further-reading-1"><i class="fa fa-check"></i><b>7.5</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="8" data-path="tidying-your-data.html"><a href="tidying-your-data.html"><i class="fa fa-check"></i><b>8</b> Tidying your data</a>
<ul>
<li class="chapter" data-level="8.1" data-path="tidying-your-data.html"><a href="tidying-your-data.html#what-is-tidy-data"><i class="fa fa-check"></i><b>8.1</b> What is tidy data?</a></li>
<li class="chapter" data-level="8.2" data-path="tidying-your-data.html"><a href="tidying-your-data.html#tools-to-tidy-your-data"><i class="fa fa-check"></i><b>8.2</b> Tools to tidy your data</a>
<ul>
<li class="chapter" data-level="8.2.1" data-path="tidying-your-data.html"><a href="tidying-your-data.html#making-data-longer"><i class="fa fa-check"></i><b>8.2.1</b> Making data ‘longer’</a></li>
<li class="chapter" data-level="8.2.2" data-path="tidying-your-data.html"><a href="tidying-your-data.html#making-data-wider"><i class="fa fa-check"></i><b>8.2.2</b> Making data ‘wider’</a></li>
<li class="chapter" data-level="8.2.3" data-path="tidying-your-data.html"><a href="tidying-your-data.html#seperating-columns"><i class="fa fa-check"></i><b>8.2.3</b> Seperating columns</a></li>
<li class="chapter" data-level="8.2.4" data-path="tidying-your-data.html"><a href="tidying-your-data.html#unitingcombining-columns"><i class="fa fa-check"></i><b>8.2.4</b> Uniting/combining columns</a></li>
<li class="chapter" data-level="8.2.5" data-path="tidying-your-data.html"><a href="tidying-your-data.html#renaming-columnsheaders"><i class="fa fa-check"></i><b>8.2.5</b> Renaming columns/headers</a></li>
<li class="chapter" data-level="8.2.6" data-path="tidying-your-data.html"><a href="tidying-your-data.html#rounding-numbers"><i class="fa fa-check"></i><b>8.2.6</b> Rounding numbers</a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="tidying-your-data.html"><a href="tidying-your-data.html#tips-for-recording-data"><i class="fa fa-check"></i><b>8.3</b> Tips for recording data</a></li>
<li class="chapter" data-level="8.4" data-path="tidying-your-data.html"><a href="tidying-your-data.html#further-reading-2"><i class="fa fa-check"></i><b>8.4</b> Further reading</a></li>
<li class="chapter" data-level="8.5" data-path="tidying-your-data.html"><a href="tidying-your-data.html#chapter-references"><i class="fa fa-check"></i><b>8.5</b> Chapter References</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html"><i class="fa fa-check"></i><b>9</b> Transform: dplyr and data manipulation</a>
<ul>
<li class="chapter" data-level="9.1" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#selecting-by-row-or-value"><i class="fa fa-check"></i><b>9.1</b> Selecting by row or value</a>
<ul>
<li class="chapter" data-level="9.1.1" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#logical-oeprators"><i class="fa fa-check"></i><b>9.1.1</b> Logical oeprators</a></li>
</ul></li>
<li class="chapter" data-level="9.2" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#arranging-rows"><i class="fa fa-check"></i><b>9.2</b> Arranging rows</a></li>
<li class="chapter" data-level="9.3" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#selecting-by-column-or-variable"><i class="fa fa-check"></i><b>9.3</b> Selecting by column or variable</a></li>
<li class="chapter" data-level="9.4" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#adding-new-variables"><i class="fa fa-check"></i><b>9.4</b> Adding new variables</a>
<ul>
<li class="chapter" data-level="9.4.1" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#useful-mutate-function"><i class="fa fa-check"></i><b>9.4.1</b> Useful mutate function</a></li>
</ul></li>
<li class="chapter" data-level="9.5" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#group-and-summarize-data"><i class="fa fa-check"></i><b>9.5</b> Group and summarize data</a>
<ul>
<li class="chapter" data-level="9.5.1" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#useful-summarize-functions"><i class="fa fa-check"></i><b>9.5.1</b> Useful summarize functions</a></li>
</ul></li>
<li class="chapter" data-level="9.6" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#the-pipe-chaining-functions-together"><i class="fa fa-check"></i><b>9.6</b> The pipe: chaining functions together</a>
<ul>
<li class="chapter" data-level="9.6.1" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#notes-on-piping"><i class="fa fa-check"></i><b>9.6.1</b> Notes on piping</a></li>
</ul></li>
<li class="chapter" data-level="9.7" data-path="transform-dplyr-and-data-manipulation.html"><a href="transform-dplyr-and-data-manipulation.html#further-reading-3"><i class="fa fa-check"></i><b>9.7</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="10" data-path="programming-with-r.html"><a href="programming-with-r.html"><i class="fa fa-check"></i><b>10</b> Programming with R</a>
<ul>
<li class="chapter" data-level="10.1" data-path="programming-with-r.html"><a href="programming-with-r.html#functions"><i class="fa fa-check"></i><b>10.1</b> Functions</a></li>
<li class="chapter" data-level="10.2" data-path="programming-with-r.html"><a href="programming-with-r.html#conditional-arguments"><i class="fa fa-check"></i><b>10.2</b> Conditional arguments</a>
<ul>
<li class="chapter" data-level="10.2.1" data-path="programming-with-r.html"><a href="programming-with-r.html#piping-conditional-statements"><i class="fa fa-check"></i><b>10.2.1</b> Piping conditional statements</a></li>
</ul></li>
<li class="chapter" data-level="10.3" data-path="programming-with-r.html"><a href="programming-with-r.html#when-to-use-functions"><i class="fa fa-check"></i><b>10.3</b> When to use functions</a></li>
<li class="chapter" data-level="10.4" data-path="programming-with-r.html"><a href="programming-with-r.html#further-reading-4"><i class="fa fa-check"></i><b>10.4</b> Further Reading</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="modelling.html"><a href="modelling.html"><i class="fa fa-check"></i><b>11</b> Modelling</a>
<ul>
<li class="chapter" data-level="11.1" data-path="modelling.html"><a href="modelling.html#base-r-linear-model"><i class="fa fa-check"></i><b>11.1</b> Base R Linear Model</a></li>
<li class="chapter" data-level="11.2" data-path="modelling.html"><a href="modelling.html#cleaning-up-model-ouputs"><i class="fa fa-check"></i><b>11.2</b> Cleaning up model ouputs</a></li>
<li class="chapter" data-level="11.3" data-path="modelling.html"><a href="modelling.html#further-reading-5"><i class="fa fa-check"></i><b>11.3</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="visualizations.html"><a href="visualizations.html"><i class="fa fa-check"></i><b>12</b> Visualizations</a>
<ul>
<li class="chapter" data-level="12.1" data-path="visualizations.html"><a href="visualizations.html#building-plots-ups"><i class="fa fa-check"></i><b>12.1</b> Building plots ups</a></li>
<li class="chapter" data-level="12.2" data-path="visualizations.html"><a href="visualizations.html#basic-plotting"><i class="fa fa-check"></i><b>12.2</b> Basic plotting</a>
<ul>
<li class="chapter" data-level="12.2.1" data-path="visualizations.html"><a href="visualizations.html#changing-plot-labels"><i class="fa fa-check"></i><b>12.2.1</b> Changing plot labels</a></li>
</ul></li>
<li class="chapter" data-level="12.3" data-path="visualizations.html"><a href="visualizations.html#further-reading-6"><i class="fa fa-check"></i><b>12.3</b> Further reading</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="communication.html"><a href="communication.html"><i class="fa fa-check"></i><b>13</b> Communication</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">R for Environmental Chemists</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="using-r-markdown" class="section level1" number="4">
<h1><span class="header-section-number">Chapter 4</span> Using R Markdown</h1>
<p>In a nutshell, R Markdown allows you to analyse your data with R and write your report in the same place (this entire book was written with rmarkdown). This has loads of benefits including a <a href="https://www.youtube.com/watch?v=s3JldKoA0zw"><em>reproducible workflow</em></a>, and streamlined thinking. No more flipping back and forth between coding and writing to figure out what’s going on.</p>
<p>Let’s run some simple code as an example:</p>
<div class="sourceCode" id="cb78"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb78-1"><a href="using-r-markdown.html#cb78-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Look at me go mom</span></span>
<span id="cb78-2"><a href="using-r-markdown.html#cb78-2" aria-hidden="true" tabindex="-1"></a>x <span class="ot">&lt;-</span> <span class="dv">2</span><span class="sc">+</span><span class="dv">2</span></span>
<span id="cb78-3"><a href="using-r-markdown.html#cb78-3" aria-hidden="true" tabindex="-1"></a>x</span></code></pre></div>
<pre><code>## [1] 4</code></pre>
<p>What we’ve done here is write a snippet of R code, ran it, and printed the results (as they would appear in the console). While the above code isn’t anything special, we can extend this concept so that our R markdown document contains any data, figures or plots we generate throughout our analysis in R.</p>
<p>Pretty neat, eh? You might not think so, but let’s imagine a scenario you’ll encounter soon enough. You’re about to submit your assignment, you’ve spent hours analyzing your data and beautifying your plots. Everything is good to go until you notice at the last minute you were supposed to <em>subtract</em> value <code>x</code> and not value <code>y</code> in your analysis. If you did all your work in <em>Excel</em> (tsk tsk), you’ll need to find the correct worksheet, apply the changes, reformat your plots, and import them into word (assuming everything is going well, which is never does with looming deadlines). Now if you did all your work in R markdown, you go to your one <code>.rmd</code> document, briefly apply the changes and re-compile your document.</p>
<div id="deeper-look-into-rmarkdown" class="section level2" number="4.1">
<h2><span class="header-section-number">4.1</span> Deeper look into rmarkdown</h2>
<p>What we’ve done here is write a snippet of R code, ran it, and printed the results (as they would appear in the console). While the above code isn’t anything special, we can extend this concept so that our R markdown document contains any data, figures or plots we generate throughout our analysis in R. For example:</p>
<div class="sourceCode" id="cb80"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb80-1"><a href="using-r-markdown.html#cb80-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse) </span>
<span id="cb80-2"><a href="using-r-markdown.html#cb80-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(knitr)</span>
<span id="cb80-3"><a href="using-r-markdown.html#cb80-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-4"><a href="using-r-markdown.html#cb80-4" aria-hidden="true" tabindex="-1"></a>airPol <span class="ot">&lt;-</span> <span class="fu">read_csv</span>(<span class="st">&quot;data/2018-01-01_60430_Toronto_ON.csv&quot;</span>)</span>
<span id="cb80-5"><a href="using-r-markdown.html#cb80-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb80-6"><a href="using-r-markdown.html#cb80-6" aria-hidden="true" tabindex="-1"></a><span class="fu">ggplot</span>(<span class="at">data =</span> airPol, </span>
<span id="cb80-7"><a href="using-r-markdown.html#cb80-7" aria-hidden="true" tabindex="-1"></a>       <span class="fu">aes</span>(<span class="at">x =</span> date.time, </span>
<span id="cb80-8"><a href="using-r-markdown.html#cb80-8" aria-hidden="true" tabindex="-1"></a>           <span class="at">y =</span> concentration, </span>
<span id="cb80-9"><a href="using-r-markdown.html#cb80-9" aria-hidden="true" tabindex="-1"></a>           <span class="at">colour =</span> pollutant)) <span class="sc">+</span> </span>
<span id="cb80-10"><a href="using-r-markdown.html#cb80-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">geom_line</span>() <span class="sc">+</span></span>
<span id="cb80-11"><a href="using-r-markdown.html#cb80-11" aria-hidden="true" tabindex="-1"></a>  <span class="fu">theme_classic</span>()</span></code></pre></div>
<div class="figure"><span id="fig:unnamed-chunk-36"></span>
<img src="R4EnvChem_files/figure-html/unnamed-chunk-36-1.png" alt="Time series of 2018 ambient atmospheric O~3~, NO~2~, and SO~2~ concentrations (ppb) in downtown Toronto" width="672" />
<p class="caption">
Figure 4.1: Time series of 2018 ambient atmospheric O<sub>3</sub>, NO<sub>2</sub>, and SO<sub>2</sub> concentrations (ppb) in downtown Toronto
</p>
</div>
<div class="sourceCode" id="cb81"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb81-1"><a href="using-r-markdown.html#cb81-1" aria-hidden="true" tabindex="-1"></a>sumAirPol <span class="ot">&lt;-</span> airPol <span class="sc">%&gt;%</span></span>
<span id="cb81-2"><a href="using-r-markdown.html#cb81-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">drop_na</span>() <span class="sc">%&gt;%</span></span>
<span id="cb81-3"><a href="using-r-markdown.html#cb81-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">group_by</span>(city, naps, pollutant) <span class="sc">%&gt;%</span></span>
<span id="cb81-4"><a href="using-r-markdown.html#cb81-4" aria-hidden="true" tabindex="-1"></a>  <span class="fu">summarize</span>(<span class="at">mean =</span> <span class="fu">mean</span>(concentration), </span>
<span id="cb81-5"><a href="using-r-markdown.html#cb81-5" aria-hidden="true" tabindex="-1"></a>            <span class="at">sd =</span> <span class="fu">sd</span>(concentration), </span>
<span id="cb81-6"><a href="using-r-markdown.html#cb81-6" aria-hidden="true" tabindex="-1"></a>            <span class="at">min =</span> <span class="fu">min</span>(concentration), </span>
<span id="cb81-7"><a href="using-r-markdown.html#cb81-7" aria-hidden="true" tabindex="-1"></a>            <span class="at">max =</span> <span class="fu">max</span>(concentration))</span>
<span id="cb81-8"><a href="using-r-markdown.html#cb81-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb81-9"><a href="using-r-markdown.html#cb81-9" aria-hidden="true" tabindex="-1"></a>knitr<span class="sc">::</span><span class="fu">kable</span>(sumAirPol, <span class="at">digits =</span> <span class="dv">1</span>)</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th align="left">city</th>
<th align="right">naps</th>
<th align="left">pollutant</th>
<th align="right">mean</th>
<th align="right">sd</th>
<th align="right">min</th>
<th align="right">max</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="left">Toronto</td>
<td align="right">60430</td>
<td align="left">NO2</td>
<td align="right">20.5</td>
<td align="right">11.5</td>
<td align="right">7</td>
<td align="right">55</td>
</tr>
<tr class="even">
<td align="left">Toronto</td>
<td align="right">60430</td>
<td align="left">O3</td>
<td align="right">19.7</td>
<td align="right">8.7</td>
<td align="right">1</td>
<td align="right">33</td>
</tr>
<tr class="odd">
<td align="left">Toronto</td>
<td align="right">60430</td>
<td align="left">SO2</td>
<td align="right">1.1</td>
<td align="right">0.3</td>
<td align="right">1</td>
<td align="right">3</td>
</tr>
</tbody>
</table>
<p>Pretty neat, eh? You might not think so, but let’s imagine a scenario you’ll encounter soon enough. You’re about to submit your assignment, you’ve spent hours analyzing your data and beautifying your plots. Everything is good to go until you notice at the last minute you were supposed to <em>subtract</em> value <code>x</code> and not value <code>y</code> in your analysis. If you did all your work in <em>Excel</em> (tsk tsk), you’ll need to find the correct worksheet, apply the changes, reformat your plots, and import them into word (assuming everything is going well, which is never does with looming deadlines). Now if you did all your work in R markdown, you go to your one <code>.rmd</code> document, briefly apply the changes and re-compile your document.</p>
</div>
<div id="getting-started-with-rmarkdown" class="section level2" number="4.2">
<h2><span class="header-section-number">4.2</span> Getting started with rmarkdown</h2>
<p>As you’ve already guessed, R markdown documents use R and are most easily written and assembled in the R Studio IDE. If you have not done so, revisit Chapter 1:<a href="installing-r.html#installing-r">Installing R</a>. Once setup with R and R Studio, you’ll need to install the <code>rmarkdown</code> and <code>tinytex</code> packages. In the console, simply run the following code:</p>
<div class="sourceCode" id="cb82"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb82-1"><a href="using-r-markdown.html#cb82-1" aria-hidden="true" tabindex="-1"></a><span class="co"># These are large packages so it&#39;ll take a couple of minutes to install</span></span>
<span id="cb82-2"><a href="using-r-markdown.html#cb82-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-3"><a href="using-r-markdown.html#cb82-3" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;rmarkdown&quot;</span>) <span class="co"># downloaded from CRAN</span></span>
<span id="cb82-4"><a href="using-r-markdown.html#cb82-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb82-5"><a href="using-r-markdown.html#cb82-5" aria-hidden="true" tabindex="-1"></a><span class="fu">install.packages</span>(<span class="st">&quot;tinytex&quot;</span>)</span>
<span id="cb82-6"><a href="using-r-markdown.html#cb82-6" aria-hidden="true" tabindex="-1"></a>tinytex<span class="sc">::</span><span class="fu">install_tinytex</span>()  <span class="co"># install TinyTeX</span></span></code></pre></div>
<p>The <code>rmarkdown</code> package is what we’ll use to generate our documents, and the <code>tinytex</code> package enables compiling documents as PDFs. There’s a lot more going on behind the <a href="https://rmarkdown.rstudio.com/lesson-2.html">scenes</a>, but you shouldn’t need to worry about it.</p>
<p>Now that everything is setup, you can create your first R Markdown document by opening up R Studio, selecting <code>FILE -&gt; NEW FILE -&gt; Rmarkdown</code>. A dialog box will appear asking for some basic input parameters for your R markdown document. Add your title and select PDF as your default output format (you can always change these later if you want). A new file should appear that’s already populated with some basic script illustrating the key components of an R markdown document.</p>
<div id="understanding-rmarkdown" class="section level3" number="4.2.1">
<h3><span class="header-section-number">4.2.1</span> Understanding rmarkdown</h3>
<p>Your first reaction when you opened your newly created R markdown document is probably that it doesn’t look anything at all like something you’d show your prof. You’re right, what you’re seeing is the plain text code which needs to be compiled (called <em>knit</em> in R Studio) to create the final document. When you create a R markdown document like this in R Studio a bunch of example code is already written. You can compile this document (see below) to see what it looks like, but let’s break down the primary components. At the top of the document you’ll see something that looks like this:</p>
<div class="sourceCode" id="cb83"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb83-1"><a href="using-r-markdown.html#cb83-1" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span>
<span id="cb83-2"><a href="using-r-markdown.html#cb83-2" aria-hidden="true" tabindex="-1"></a>title<span class="sc">:</span> <span class="st">&quot;Temporal Analysis of Foot Impacts While Birling Down the White Water&quot;</span></span>
<span id="cb83-3"><a href="using-r-markdown.html#cb83-3" aria-hidden="true" tabindex="-1"></a>author<span class="sc">:</span> <span class="st">&quot;Jean Guy Rubberboots&quot;</span></span>
<span id="cb83-4"><a href="using-r-markdown.html#cb83-4" aria-hidden="true" tabindex="-1"></a>date<span class="sc">:</span> <span class="st">&quot;24/06/2021&quot;</span></span>
<span id="cb83-5"><a href="using-r-markdown.html#cb83-5" aria-hidden="true" tabindex="-1"></a>output<span class="sc">:</span> pdf_document</span>
<span id="cb83-6"><a href="using-r-markdown.html#cb83-6" aria-hidden="true" tabindex="-1"></a><span class="sc">---</span></span></code></pre></div>
<p>This section is known as the <em>preamble</em> and it’s where you specify most of the document parameters. In the example we can see that the document title is <a href="https://www.youtube.com/watch?v=upsZZ2s3xv8">“Temporal Analysis of Foot Impacts While Birling Down the White Water”</a>, it’s written by Jean Guy Rubberboots, on the 24th of June, and the default output is a PDF document. You can modify the preamble to suit your needs. For example, if you wanted to change the title you would write <code>title: "Your Title Here"</code> in the preamble. Note that none of this is <code>R</code> code, rather it’s <code>YAML</code>, the syntax for the document’s metadata. Apart from what’s shown you shouldn’t need to worry about this much, just remember that indentation in <a href="https://bookdown.org/yihui/rmarkdown/pdf-document.html">YAML matters</a>.</p>
<p>Reading further down the default R markdown code, you’ll see different blocks of text. In R markdown anything you write will be interpreted as body text (i.e. stuff like this that you want folks to read) in the knitted document. <strong>To actually run R code</strong> you’ll need to see the next section.</p>
</div>
<div id="runnign-code-in-rmarkdown" class="section level3" number="4.2.2">
<h3><span class="header-section-number">4.2.2</span> Runnign code in rmarkdown</h3>
<p>There’s two ways to write <code>R</code> code in markdown:</p>
<ul>
<li><p><strong>Setup a code chunk</strong>. Code chunks start with three back-ticks like this: <code>```{r}</code>, where <code>r</code> indicates you’re using the R language You end a code chunk using three more backticks like this <code>```</code>.</p>
<ul>
<li>Specify code chunks options in the curly braces. i.e. <code>```{r, fig.height = 2}</code> sets figure height to 2 inches. See the <em>Code Chunk Options</em> section below for more details.</li>
</ul></li>
<li><p><strong>Inline code expression</strong>, which starts with <code>`r</code> and ends with <code>`</code> in the body text.</p>
<ul>
<li>Earlier we calculated <code>x &lt;- 2 + 2</code>, we can use inline expressions to recall that value (ex. We found that <em>x</em> is 4)</li>
</ul></li>
</ul>
<p>A screenshot of how this document, the one you’re reading, appeared in R Studio is shown in the image below.</p>
<p><strong>To actually run</strong> your R code you have two options. The first is to run the individual chunks using the <em>Run current chunk</em> button (See figure 2). This is a great way to tinker with your code before you compile your document. The second option is to compile your entire document using the <em>Knit document</em> button (see Figure 2). Knitting will sequentially run all of your code chunks, generate all the text, knit the two together and output a PDF. You’ll basically save this for the end.</p>
<p><strong>Note all the code chunks in a single markdown document work together like a normal R script.</strong> That is if you assign a value to a variable in the first chunk, you can call this variable in the second chunk; the same applies for libraries. <strong>Also note that every time you compile a markdown document, it’s done in a “fresh” R session.</strong> If you’re calling a variable that exist in your working environment, but isn’t explicitly created in the markdown document you’ll get an error.</p>
<div class="figure">
<img src="images/exampleRMarkdown.PNG" alt="" />
<p class="caption">How this document, the one you’re reading, appeared in RStudio; to see the final results scroll up to Figure 1. Note the “knit” and “run current chunk” buttons.</p>
</div>
</div>
<div id="generating-final-report" class="section level3" number="4.2.3">
<h3><span class="header-section-number">4.2.3</span> Generating final report</h3>
<p>To create a PDF to hand in you’ll need to compile, or knit, your entire markdown document as mentioned above. To knit (or compile) your R markdown script, simply click the <em>knit</em> button in R Studio (yellow box, Figure 2). You can specify what output you would like and R Studio will (hopefully) compile your script.</p>
<p>If you want to test how your code chunks will run, R Studio shows a little green ‘play button’ on the top right of every code chunk. this is the ‘run current chunk’ button, and clicking it will run your code chunk and output whatever it would in the final R markdown document. This is a great way to tweak figures and codes as it avoids the need to compile the entire document to check if you managed to change the lines from ‘black’ to ‘blue’ in your plot.</p>
</div>
</div>
<div id="so-now-what-do-i-do-with-r-markdown" class="section level2" number="4.3">
<h2><span class="header-section-number">4.3</span> So now what do I do with R Markdown?</h2>
<p>You do science and you write it down!</p>
<p>In all seriousness though, this document was only meant to introduce you to R markdown, and to make the case that you should use it for your coursework. A couple of the most useful elements are talked about below, and there is a wealth of helpful resources for formatting your documents. Just remember to keep it simple, there’s no need to reinvent the wheel. The default R markdown outputs are plenty fine with us.</p>
<div id="r-markdown-resources-and-further-reading" class="section level3" number="4.3.1">
<h3><span class="header-section-number">4.3.1</span> R Markdown resources and further reading</h3>
<p>There’s a plethora of helpful online resources to help hone your R markdown skills. We’ll list a couple below (the titles are links to the corresponding document):</p>
<ul>
<li><a href="https://bookdown.org/yihui/rmarkdown/basics.html">Chapter 2</a> of the <em><a href="https://bookdown.org/yihui/rmarkdown/">R Markdown: The Definitive Guide</a></em> by Xie, Allair &amp; Grolemund (2020). This is the simplest, most comprehensive, guide to learning R markdown and it’s available freely online.</li>
<li><em><a href="https://rstudio.com/wp-content/uploads/2015/02/rmarkdown-cheatsheet.pdf">The R markdown cheat sheet</a></em>, a great resource with the most common R markdown operations; keep on hand for quick referencing.</li>
<li><em><a href="https://bookdown.org/yihui/bookdown/">Bookdown: Authoring Books and Technical Documents with R Markdown</a></em> (2020) by Yihui Xie. Explains the <code>bookdown</code> package which greatly expands the capabilities of R markdown. For example, the table of contents of this document is created with <code>bookdown</code>.</li>
</ul>
</div>
<div id="r-code-chunk-options" class="section level3" number="4.3.2">
<h3><span class="header-section-number">4.3.2</span> R code chunk options</h3>
<p>You can specify a number of options for an individual R code chunk. You include these at the top of the code chunk. For example the following code tells markdown you’re running code written in <code>R</code>, that when you compile your document this code chunk should be evaluated, and that the resulting figure should have the caption “Some Caption.” A list of code chunk options is shown below:</p>
<div class="sourceCode" id="cb84"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb84-1"><a href="using-r-markdown.html#cb84-1" aria-hidden="true" tabindex="-1"></a><span class="in">```{r, eval = FALSE, fig.cap = &quot;Some caption&quot;}</span></span>
<span id="cb84-2"><a href="using-r-markdown.html#cb84-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-3"><a href="using-r-markdown.html#cb84-3" aria-hidden="true" tabindex="-1"></a><span class="in"># some code to generate a plot worth captioning. </span></span>
<span id="cb84-4"><a href="using-r-markdown.html#cb84-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb84-5"><a href="using-r-markdown.html#cb84-5" aria-hidden="true" tabindex="-1"></a><span class="in">```</span></span></code></pre></div>
<table>
<thead>
<tr class="header">
<th>option</th>
<th>default</th>
<th>effect</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>eval</td>
<td>TRUE</td>
<td>whether to evaluate the code and include the results</td>
</tr>
<tr class="even">
<td>echo</td>
<td>TRUE</td>
<td>whether to display the code along with its results</td>
</tr>
<tr class="odd">
<td>warning</td>
<td>TRUE</td>
<td>whether to display warnings</td>
</tr>
<tr class="even">
<td>error</td>
<td>FALSE</td>
<td>whether to display errors</td>
</tr>
<tr class="odd">
<td>message</td>
<td>TRUE</td>
<td>whether to display messages</td>
</tr>
<tr class="even">
<td>tidy</td>
<td>FALSE</td>
<td>whether to reformat code in a tidy way when displaying it</td>
</tr>
<tr class="odd">
<td>fig.width</td>
<td>7</td>
<td>width in inches for plots created in chunk</td>
</tr>
<tr class="even">
<td>fig.height</td>
<td>7</td>
<td>height in inches for plots created in chunk</td>
</tr>
<tr class="odd">
<td>fig.cap</td>
<td>NA</td>
<td>include figure caption, must be in quotation makrs ("")</td>
</tr>
</tbody>
</table>
</div>
<div id="inserting-images" class="section level3" number="4.3.3">
<h3><span class="header-section-number">4.3.3</span> Inserting images</h3>
<p>Images not produced by R code can easily be inserted into your document. The markdown code isn’t R code, so between paragraphs of bodytext insert the following code. Note that compiling to PDF, the LaTeX call will place your image in the “optimal” location, so you might find your image isn’t exactly where you though it would be. A quick google search can help you out if this is problem.</p>
<div class="sourceCode" id="cb85"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb85-1"><a href="using-r-markdown.html#cb85-1" aria-hidden="true" tabindex="-1"></a><span class="al">![Caption for the picture.](path/to/image.png)</span>{width=50%, height=50%}</span></code></pre></div>
<p>Note that in the above the use of image atributes, the <code>{width=50%, height=50%}</code> at the end. This is how you’ll adjust the size of your image. Other dimensions you can use include <code>px, cm, mm, in, inch</code>, and <code>%</code>.</p>
</div>
<div id="generating-tables" class="section level3" number="4.3.4">
<h3><span class="header-section-number">4.3.4</span> Generating Tables</h3>
<p>There’s multiple methods to create tables in R markdown. Assuming you want to display results calculated through R code, you can use the <code>kable()</code> function. Please consult <a href="https://bookdown.org/yihui/rmarkdown-cookbook/kable.html">Chapter 10</a> of the <em>R Markdown Cookbook</em> for additional support.</p>
<p>Alternatively, if you want to create simple tables manually use the following code in the main body, outside of an <code>R</code> code chunk. You can increase the number of rows/columns and the location of the horizontal lines. To generate more complex tables, see the <code>kable()</code> function and the <code>kableExtra</code> package.</p>
<div class="sourceCode" id="cb86"><pre class="sourceCode markdown"><code class="sourceCode markdown"><span id="cb86-1"><a href="using-r-markdown.html#cb86-1" aria-hidden="true" tabindex="-1"></a>Header 1 | Header 2| Header 3</span>
<span id="cb86-2"><a href="using-r-markdown.html#cb86-2" aria-hidden="true" tabindex="-1"></a>---------|---------|---------|</span>
<span id="cb86-3"><a href="using-r-markdown.html#cb86-3" aria-hidden="true" tabindex="-1"></a>Row 1    | Data    | Some other Data</span>
<span id="cb86-4"><a href="using-r-markdown.html#cb86-4" aria-hidden="true" tabindex="-1"></a>Row 2    | Data    | Some other Data</span>
<span id="cb86-5"><a href="using-r-markdown.html#cb86-5" aria-hidden="true" tabindex="-1"></a>---------|---------|---------|</span></code></pre></div>
<table>
<thead>
<tr class="header">
<th>Header 1</th>
<th>Header 2</th>
<th>Header 3</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td>Row 1</td>
<td>Data</td>
<td>Some other Data</td>
</tr>
<tr class="even">
<td>Row 2</td>
<td>Data</td>
<td>Some other Data</td>
</tr>
</tbody>
</table>
</div>
<div id="spellcheck-in-r-markdown" class="section level3" number="4.3.5">
<h3><span class="header-section-number">4.3.5</span> Spellcheck in R Markdown</h3>
<p>While writing an R markdown document in R studio, go to the <code>Edit</code> tab at the top of the window and select <code>Check Spelling</code>. You can also use the <code>F7</code> key as a shortcut. The spell checker will literally go through every word it thinks you’ve misspelled in your document. You can add words to it so your spell checker’s utility grows as you use it. <strong>Note</strong> that the spell check with also check your R code; be wary of changing words in your code chunks because you may get an error down the line.</p>
</div>
<div id="r-markdown-syntax" class="section level3" number="4.3.6">
<h3><span class="header-section-number">4.3.6</span> R markdown syntax</h3>
<ul>
<li><strong>Inline formatting</strong>; <em>which</em> is <sub>used</sub> to <sup>format</sup> <code>your text</code>.</li>
</ul>
<ol style="list-style-type: decimal">
<li>Numbered lists</li>
</ol>
<ul>
<li>Normal lists
<ul>
<li>Lists</li>
</ul></li>
<li><strong>Block-level elements</strong>, i.e. you’re section headers</li>
</ul>
<p>Example R markdown syntax used for formatting shown above:</p>
<div class="sourceCode" id="cb87"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb87-1"><a href="using-r-markdown.html#cb87-1" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="er">**</span>Inline formatting<span class="sc">**</span>; <span class="sc">*</span>which<span class="sc">*</span> is <span class="sc">~</span>used<span class="sc">~</span> to <span class="sc">^</span>format<span class="sc">^</span> <span class="st">`</span><span class="at">your text</span><span class="st">`</span>.</span>
<span id="cb87-2"><a href="using-r-markdown.html#cb87-2" aria-hidden="true" tabindex="-1"></a><span class="fl">1.</span> Numbered lists</span>
<span id="cb87-3"><a href="using-r-markdown.html#cb87-3" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> Normal lists</span>
<span id="cb87-4"><a href="using-r-markdown.html#cb87-4" aria-hidden="true" tabindex="-1"></a>  <span class="sc">-</span> Lists</span>
<span id="cb87-5"><a href="using-r-markdown.html#cb87-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb87-6"><a href="using-r-markdown.html#cb87-6" aria-hidden="true" tabindex="-1"></a><span class="sc">-</span> <span class="er">**</span>Block<span class="sc">-</span>level elements<span class="sc">**</span>, i.e. your section headers</span>
<span id="cb87-7"><a href="using-r-markdown.html#cb87-7" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb87-8"><a href="using-r-markdown.html#cb87-8" aria-hidden="true" tabindex="-1"></a><span class="co"># Headers</span></span>
<span id="cb87-9"><a href="using-r-markdown.html#cb87-9" aria-hidden="true" tabindex="-1"></a><span class="do">## Headers</span></span>
<span id="cb87-10"><a href="using-r-markdown.html#cb87-10" aria-hidden="true" tabindex="-1"></a><span class="do">### Headers</span></span></code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="working-with-r.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="r-tutorial-exercise.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": false,
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/DavidRossHall/R4EnvChem/r-markdown.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["R4EnvChem.pdf"],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
